<!DOCTYPE html>
<html>
    <head>
        <title>Brent</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script type="text/javascript" src="../jquery.js"></script>
        <script src="../bootstrap.min.js"></script>
        <script src="../knockout.js"></script>
        <link rel="stylesheet" href="../../css/bootstrap.min.css">
        <link rel="stylesheet" href="adstyles.css">
        <script src="adview-model.js"></script>
    </head>

    <body id="body">
        <script>
            adrequest();
        </script>

        <nav id="nav" class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand"><img src="http://blogs.fasos.maastrichtuniversity.nl/logoimago/mpiersotte/wp-content/uploads/sites/139/2015/04/mixed-logo.jpg" alt="Dispute Bills"></a>
                </div>
                <form class="navbar-form navbar-left" role="search">
                    <div class="form-group">
                        <input id="product" type="text" class="form-control" placeholder="Exempel: borrmaskin">
                        <!-- ko if: isMobile -->
                        <br>
                        <!-- /ko -->
                        <input id="location" type="text" class="form-control" placeholder="Exempel: Malmö">
                    </div>
                    <button type="submit" class="btn btn-default" data-bind="click: searchAds">Sök</button>
                </form>
            </div>

            <!-- ko ifnot: isLoggedIn -->
            <div data-bind="css: loginClass" class="dropdown">
                <a id="label" data-target="#" data-toggle="dropdown" role="button" aria-haspopup="true">
                    Logga in  
                </a>

                <ul class="dropdown-menu" style="padding: 5px; width: 200px; right: 0; left: auto;" aria-labelledby="dLabel">
                    <li>
                        <input id="username" type="text" class="form-control" placeholder="Användarnamn">
                        <input style="margin-top: 4px;" id="password" type="text" class="form-control" placeholder="Lösenord">
                        <br>
                    </li>
                    <button data-bind="click: login" type="login" class="btn btn-success pull-right" data-bind="click: login">Logga in</button>
                </ul>
            </div>
            <!-- /ko -->

            <!-- ko if: isLoggedIn -->
            <div data-bind="css: loginClass" class="dropdown">
                <a data-bind="text: username" id="dLabel" data-target="#" data-toggle="dropdown" role="button" aria-haspopup="true"></a>
                <span class="caret"></span>
                <ul class="dropdown-menu" style="padding: 5px; width: 200px; right: 0; left: auto;" aria-labelledby="dLabel">
                    <li><a href="#">Mina annonser</a></li>
                    <li><a data-bind="click: createAd" href="#">Lägg till annons</a></li>
                    <li><a href="#">Kontoinställningar</a></li>
                    <li><a href="#">Mina kontakter</a></li>
                    <li><a data-bind="click:logout " href="#">Logga ut</a></li>
                </ul>
            </div>
            <!-- /ko -->
        </nav>

        <div data-bind="css: containerStyle" id="border-div">
            <div class="container-fluid">
                <div  class="row-fluid">
                    <div class="span10">
                        <div data-bind="visible: showList">
                            <br>
                            <section data-bind="foreach: {data: ads}">
                                <div data-bind="css: rowHeight">
                                    <div class = "col-sm-6 col-md-3">
                                        <a href = "#" >
                                            <img data-bind="attr:{src: imageURL}, click: gotoAd, css: imageClass" alt = "">
                                        </a>
                                    </div>
                                    <div class = "caption">
                                        <p id="name-link" data-bind="text: firstname"></p>
                                        <p id="location-link" data-bind="text: location, visible: isComputer"></p>
                                        <h4 id="title" data-bind="text: title"></h4>
                                        <p id="description" data-bind="text: price"></p>
                                    </div>
                                </div>
                                <br><hr>
                            </section>
                        </div>

                        <div data-bind="visible: displayAd">
                            <br>
                            <p><a href="#" class="btn btn-primary" role="button" data-bind="click: goBack">Tillbaka</a>
                            <section id="ad" data-bind="foreach: {data: ad}">
                                <div data-bind="visible:isMobile " class="col-sm-6 col-md-3">
                                    <a href="#" class="thumbnail" >
                                        <img data-bind="attr:{src: imageURL}, click: gotoAd" alt = "">
                                    </a>
                                </div>
                                <div data-bind="visible:isComputer" class="row">
                                    <img data-bind="attr:{src: imageURL}, css: displayimageclass">
                                </div>
                                <div class = "caption">
                                    <p id="location-link-ad" data-bind="text: location"></p>
                                    <h2 style="text-align:left;float:left;" data-bind="text: title, css: mobileAdText"></h2>
                                    <h3 style="text-align:right;float:right;" data-bind="text: displayprice, css: mobileAdText"></h3>
                                    <br style="clear:both;"/>
                                    <a href="#" id="location-link-ad" data-bind="text: salesmessage"></a>
                                    <hr>
                                    <div class="jumbotron">
                                        <h5 id="description" data-bind="text: description"></h5>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
